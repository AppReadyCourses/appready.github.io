"use strict";(self.webpackChunkhsmynewapp=self.webpackChunkhsmynewapp||[]).push([[749],{749:(G,h,i)=>{i.r(h),i.d(h,{AuthModule:()=>$});var b=i(9808),P=i(520),r=i(2382),c=i(506),a=i(5620),u=i(5215);const x=(0,a.PH)("[Auth/API] Log In",(0,a.Ky)()),m=(0,a.PH)("[Auth/API] Log In Success",(0,a.Ky)()),Z=(0,a.PH)("[Auth/API] Log In Failure",(0,a.Ky)()),v=(0,a.PH)("[Auth/API] Sign Up",(0,a.Ky)()),d=(0,a.PH)("[Auth/API] Sign Up Success",(0,a.Ky)()),A=(0,a.PH)("[Auth/API] Sign Up Failure",(0,a.Ky)());var t=i(5e3);let S=(()=>{class n{constructor(o){this.store=o}ngOnInit(){this.myForm=new r.cw({username:new r.NI,password:new r.NI})}onSubmit(o){console.log("form value",o.value),this.store.dispatch(x({credentials:o.value}))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(a.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:1,consts:[["routerLink","/"],["src","assets/logo/stackmy-black.png","alt","",1,"logo"],[1,"wrap"],[1,"signin-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","username","name","username","placeholder","Username","type","text"],["formControlName","password","name","password","placeholder","Password","type","password"],["type","submit",1,"btn"],[1,"forgot-password"],["href","#"],[1,"signup-adjust"],[1,"login__signup"],["routerLink","/auth/signup"]],template:function(o,s){1&o&&(t.TgZ(0,"a",0),t._UZ(1,"img",1),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h4"),t._uU(5,"Sign In"),t.qZA(),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return s.onSubmit(s.myForm)}),t.TgZ(7,"div",5),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",5),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"button",8),t._uU(12," Submit "),t.qZA(),t.qZA(),t.TgZ(13,"p",9),t.TgZ(14,"a",10),t._uU(15,"Forgot Your Password?"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",11),t.TgZ(17,"p",12),t._uU(18," Don't have an account? \xa0"),t.TgZ(19,"a",13),t._uU(20,"Sign up"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(6),t.Q6J("formGroup",s.myForm))},directives:[u.yS,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u],styles:[".login-btn[_ngcontent-%COMP%]{color:#494949;text-transform:uppercase;text-decoration:none;background:#ffffff;padding:3px;border:1px solid #494949;display:inline-block;transition:all .4s ease 0s}.signin-container[_ngcontent-%COMP%]{max-width:360px;max-height:500px;background:white;padding:2px 16px;box-shadow:#18274b26 0 19px 80px,#18274b26 0 10px 60px;width:100%;border-radius:20px;margin:2rem auto}input[_ngcontent-%COMP%]{width:100%;background:#f5f5f5;border:0;padding:18px;border-radius:15px;margin-bottom:20px;border:1px solid #eee}h4[_ngcontent-%COMP%]{text-align:center;font-size:1.4rem;font-weight:700;color:#282828;margin:15px auto}.btn[_ngcontent-%COMP%]{position:relative;width:100%;padding:14px;border-radius:14px;border:0;background:#282828;font-size:1.2em;color:#fff;text-shadow:1px 1px 0px rgba(0,0,0,.1);box-shadow:0 3px #e4e4e4;margin-bottom:1rem;font-weight:700}.btn[_ngcontent-%COMP%]:active{top:3px;box-shadow:none}.forgot-password[_ngcontent-%COMP%]{text-align:right;font-size:.7rem;color:#a00000;margin-bottom:1.5rem}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a00000;cursor:pointer}.login__signup[_ngcontent-%COMP%]{font-size:.7rem;color:#6d6d6d}.login__signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2b2b2b;cursor:pointer}.signup-adjust[_ngcontent-%COMP%]{text-align:center}.wrap[_ngcontent-%COMP%]{margin-top:4rem}.logo[_ngcontent-%COMP%]{display:block;margin-top:2rem;margin-left:auto;margin-right:auto;width:200px}.back-logo[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:20px;margin-top:4rem}"]}),n})();function M(n,e){if(1&n&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.Oqu(o)}}function T(n,e){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",21),t.TgZ(2,"p",22),t._uU(3),t.qZA(),t.qZA()),2&n){const o=e.$implicit,s=e.index;t.xp6(1),t.s9C("src",o,t.LSH),t.xp6(2),t.Oqu(s+1)}}function U(n,e){if(1&n&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.hij(" Avatar ",o," ")}}const _=[{path:"signup",component:(()=>{class n{constructor(o,s){this.store=o,this.fb=s,this.preSelectInterestesRole=["UI/UX designer","Web Developer","Data Science","Front-end Developer","Back-end Developer"],this.avatarImgArray=["/assets/avatars/man-1.png","/assets/avatars/man-2.png","/assets/avatars/man-3.png","/assets/avatars/woman-1.png","/assets/avatars/woman-2.png","/assets/avatars/woman-3.png"],this.avatarNames=["1","2","3","4","5","6"]}ngOnInit(){this.myForm=this.fb.group({username:[""],password:[""],email:[""],interestedIn:[""],avatar:[""]})}onSubmit(o){console.log("form value",o.value),this.store.dispatch(v({credentials:o.value}))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(a.yh),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-register"]],decls:36,vars:4,consts:[["routerLink","/"],["src","assets/logo/hslogo.png","alt","",1,"logo"],[1,"wrap"],[1,"register-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","username","name","username","placeholder","Username","type","text"],["formControlName","password","name","password","placeholder","Password","type","password"],["formControlName","email","name","email","placeholder","Email","type","email"],["formControlName","interestedIn",1,"dropdown-content"],["disabled","",1,"select-title"],[4,"ngFor","ngForOf"],[1,"avatar-title"],[1,"img-container"],["formControlName","avatar",1,"dropdown-content"],["disabled",""],[1,"select-title"],[1,"btn"],[1,"signup-adjust"],[1,"login__signup"],["routerLink","/auth/signin"],["alt","",1,"img-avatar",3,"src"],[1,"avatar-label"]],template:function(o,s){1&o&&(t.TgZ(0,"a",0),t._UZ(1,"img",1),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h4"),t._uU(5,"Sign Up"),t.qZA(),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return s.onSubmit(s.myForm)}),t.TgZ(7,"div",5),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",5),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",5),t._UZ(12,"input",8),t.qZA(),t.TgZ(13,"select",9),t.TgZ(14,"option",10),t._uU(15,"Select your interests"),t.qZA(),t.TgZ(16,"option"),t._uU(17,"Select your interests"),t.qZA(),t.YNc(18,M,2,1,"option",11),t.qZA(),t.TgZ(19,"p",12),t._uU(20,"Available avatars:"),t.qZA(),t.TgZ(21,"div",13),t.YNc(22,T,4,2,"div",11),t.qZA(),t.TgZ(23,"select",14),t.TgZ(24,"option",15),t._uU(25,"Select your avatar"),t.qZA(),t.TgZ(26,"option",16),t._uU(27,"Select your avatar"),t.qZA(),t.YNc(28,U,2,1,"option",11),t.qZA(),t.TgZ(29,"button",17),t._uU(30,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",18),t.TgZ(32,"p",19),t._uU(33," Already sign up? \xa0"),t.TgZ(34,"a",20),t._uU(35,"Sign In"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(6),t.Q6J("formGroup",s.myForm),t.xp6(12),t.Q6J("ngForOf",s.preSelectInterestesRole),t.xp6(4),t.Q6J("ngForOf",s.avatarImgArray),t.xp6(6),t.Q6J("ngForOf",s.avatarNames))},directives:[u.yS,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.EJ,r.YN,r.Kr,b.sg],styles:[".login-btn[_ngcontent-%COMP%]{color:#494949;text-transform:uppercase;text-decoration:none;background:#ffffff;padding:3px;border:1px solid #494949;display:inline-block;transition:all .4s ease 0s}.register-container[_ngcontent-%COMP%]{max-width:450px;max-height:630px;background:white;padding:2px 16px;box-shadow:#18274b26 0 19px 80px,#18274b26 0 10px 60px;width:100%;border-radius:20px;margin:1rem auto}input[_ngcontent-%COMP%]{width:100%;background:#f5f5f5;border:0;padding:18px;border-radius:15px;margin-bottom:20px;border:1px solid #eee}input[_ngcontent-%COMP%]:focus{outline:none!important;border-color:#0c0c0c;box-shadow:0 0 7px #939393}h4[_ngcontent-%COMP%]{text-align:center;font-size:1.4rem;font-weight:700;color:#282828;margin:15px auto}.btn[_ngcontent-%COMP%]{position:relative;width:100%;padding:14px;border-radius:14px;border:0;background:#af0606;font-size:1.2em;color:#fff;text-shadow:1px 1px 0px rgba(0,0,0,.1);box-shadow:0 3px #e4e4e4;margin-bottom:1rem;font-weight:700}.btn[_ngcontent-%COMP%]:active{top:3px;box-shadow:none}.forgot-password[_ngcontent-%COMP%]{text-align:left;font-size:.7rem;color:#a00000;margin-bottom:1.5rem}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a00000;cursor:pointer}.login__signup[_ngcontent-%COMP%]{font-size:.7rem;color:#6d6d6d}.login__signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2b2b2b;cursor:pointer}.signup-adjust[_ngcontent-%COMP%]{text-align:center}.wrap[_ngcontent-%COMP%]{margin-top:1rem}.logo[_ngcontent-%COMP%]{display:block;margin-top:2rem;margin-left:auto;margin-right:auto;width:200px}.dropdown-content[_ngcontent-%COMP%]{background-color:#f9f9f9;min-width:415px;box-shadow:0 8px 16px #0000001a;border-radius:14px;padding:16px;margin:0 auto 20px;border:none}.select-title[_ngcontent-%COMP%]{color:red}.img-avatar[_ngcontent-%COMP%]{width:35px;display:inline-block}.img-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:1rem}.avatar-label[_ngcontent-%COMP%]{font-size:.8rem;color:gray;text-align:center}.avatar-title[_ngcontent-%COMP%]{font-size:.7rem;color:#a9a9a9;margin:0 0 .5rem .9rem}"]}),n})()},{path:"login",component:S}];let F=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(_)],u.Bz]}),n})();var C=i(9646),I=i(6129),l=i(8505),y=i(4004),w=i(262),q=i(3900),L=i(660);let k=(()=>{class n{constructor(o,s,f){this.actions$=o,this.router=s,this.authService=f,this.$login=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(x),(0,I.z)(p=>this.authService.login(p.credentials).pipe((0,l.b)(g=>console.log("success access_token data",g)),(0,y.U)(g=>m({token:g.data.login.access_token})),(0,w.K)(g=>(0,C.of)(Z({error:g}))))))),this.$loginSuccess=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(m),(0,l.b)(p=>{this.router.navigateByUrl("/mylearning")}),(0,l.b)(p=>localStorage.setItem("token",p.token))),{dispatch:!1}),this.$signUp=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(v),(0,q.w)(p=>this.authService.signup(p.credentials).pipe((0,l.b)(g=>console.log("success signUp",g)),(0,y.U)(g=>d({user:g.data.registerUser})),(0,w.K)(g=>(0,C.of)(A({error:g}))))))),this.$signupSuccess=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(d),(0,l.b)(()=>{this.router.navigateByUrl("/auth/signin")})),{dispatch:!1})}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(c.eX),t.LFG(u.F0),t.LFG(L.e8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const O=(0,i(5685).H)(),N=O.getInitialState({isAuthenticated:!1,user:null,error:null,data:null}),R=(0,a.Lq)(N,(0,a.on)(m,(n,e)=>(console.log("Reducer - AuthActions.AuthLogInSuccess",e.token),Object.assign(Object.assign({},n),{isAuthenticated:!0,user:{access_token:e.token},error:null}))),(0,a.on)(Z,(n,e)=>Object.assign(Object.assign({},n),{isAuthenticated:!1,error:"Incorrect email and/or password."})),(0,a.on)(d,(n,e)=>Object.assign(Object.assign({},n),{isAuthenticated:!0,user:{username:e.user.username},error:null})),(0,a.on)(A,(n,e)=>Object.assign(Object.assign({},n),{isAuthenticated:!1,error:e.error})));function z(n,e){return R(n,e)}O.getSelectors();let $=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[F,P.JF,b.ez,a.Aw.forFeature("auth",z),c.sQ.forFeature([k]),r.UX]]}),n})()}}]);